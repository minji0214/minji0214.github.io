---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import { getCollection } from "astro:content";
import ListItem from "../components/listItem.astro";

const posts = (await getCollection("blog"))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 10);
---

<!doctype html>
<html lang="en">
	<head>
		<link rel="sitemap" href="/sitemap.xml" />
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} keywords="" />
		<link
			href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&family=Inter:wght@400;700&family=Sora:wght@600&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<main>
			<section class="main-content fade-in">
				<div class="main-content__container">
					<div class="about-section">
						<div class="about-section__name">MINJI</div>
						<div class="about-section__role">
							Product-Focused Frontend Engineer
						</div>
						<div class="about-section__description">3+ Years Experience</div>

						<div class="experience-section">
							<h2 class="experience-section__title">EXPERIENCE</h2>
							<ul class="experience-section__list">
								<li class="experience-item">
									<span class="experience-item__date">2024.01 - Present</span>
									<div class="experience-item__content">
										<span class="experience-item__role">Frontend Engineer</span>
										<a href="#" class="experience-item__company">@Sweetspot</a>
									</div>
								</li>
								<li class="experience-item">
									<span class="experience-item__date">2022.11 - 2024.12</span>
									<div class="experience-item__content">
										<span class="experience-item__role">Frontend Engineer</span>
										<a href="#" class="experience-item__company">@북아이피스</a>
									</div>
								</li>
							</ul>
						</div>
					</div>

					<div class="recent-posts-section">
						<div class="recent-posts-section__header">
							<h2 class="recent-posts-section__title">Recent Posts</h2>
							<a href="/blog/" class="recent-posts-section__view-all">전체보기 →</a>
						</div>
						<ul class="recent-posts-section__list">
							{
								posts.map((post) => (
									<li class="recent-post-item">
										<a
											href={`/blog/${post.slug}/`}
											class="recent-post-item__link"
										>
											<span class="recent-post-item__date">
												{post.data.pubDate.getFullYear()}년{" "}
												{post.data.pubDate.getMonth() + 1}월{" "}
												{post.data.pubDate.getDate()}일
											</span>
											<h3 class="recent-post-item__title">{post.data.title}</h3>
										</a>
									</li>
								))
							}
						</ul>
					</div>
				</div>
			</section>
		</main>
		<Footer />
		<script type="module">
			// Fade-in 애니메이션
			window.addEventListener("DOMContentLoaded", () => {
				document.querySelectorAll(".fade-in").forEach((el, i) => {
					el.style.opacity = 0;
					el.style.transform = "translateY(20px)";
					setTimeout(
						() => {
							el.style.transition = "opacity 0.6s ease, transform 0.6s ease";
							el.style.opacity = 1;
							el.style.transform = "none";
						},
						100 + i * 100
					);
				});
			});
		</script>
		<style>
			:root {
				--color-bg: #ffffff;
				--color-text: #000000;
				--color-sub: #666666;
				--color-border: #e5e5e5;
				--color-hover: #f5f5f5;
			}
			html,
			body {
				background: var(--color-bg);
				color: var(--color-text);
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Inter",
					sans-serif;
				margin: 0;
				padding: 0;
				min-height: 100vh;
				overflow-x: hidden;
				width: 100%;
				box-sizing: border-box;
			}
			* {
				box-sizing: border-box;
			}
			main {
				width: 100%;
				box-sizing: border-box;
				background: var(--color-bg);
				padding: 0;
				overflow-x: hidden;
			}
			.main-content {
				width: 100%;
				padding: 80px 40px;
				box-sizing: border-box;
			}
			.main-content__container {
				max-width: 1200px;
				margin: 0 auto;
				display: flex;
				flex-direction: row;
				gap: 80px;
				align-items: flex-start;
				width: 100%;
				box-sizing: border-box;
			}
			.about-section {
				flex: 1 1 50%;
				min-width: 0;
			}
			.recent-posts-section {
				flex: 1 1 50%;
				min-width: 0;
				width: 100%;
				box-sizing: border-box;
			}
			/* About Section */
			.about-section {
				position: sticky;
				top: 100px;
			}
			.about-section__name {
				font-size: 2.5rem;
				font-weight: 700;
				color: var(--color-text);
				margin-bottom: 8px;
				letter-spacing: -1px;
			}
			.about-section__role {
				font-size: 1.2rem;
				font-weight: 400;
				color: var(--color-text);
				margin-bottom: 4px;
			}
			.about-section__description {
				font-size: 1rem;
				font-weight: 300;
				color: var(--color-sub);
				margin-bottom: 60px;
			}
			.experience-section {
				margin-top: 40px;
			}
			.experience-section__title {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--color-text);
				margin-bottom: 24px;
				letter-spacing: -0.5px;
			}
			.experience-section__list {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.experience-item {
				margin-bottom: 24px;
			}
			.experience-item__date {
				display: block;
				font-size: 0.9rem;
				color: var(--color-sub);
				margin-bottom: 8px;
				font-weight: 300;
			}
			.experience-item__content {
				display: flex;
				flex-direction: column;
				gap: 4px;
			}
			.experience-item__role {
				font-size: 1rem;
				color: var(--color-text);
				font-weight: 400;
			}
			.experience-item__company {
				font-size: 0.95rem;
				color: var(--color-text);
				text-decoration: underline;
				text-underline-offset: 2px;
				transition: opacity 0.2s ease;
			}
			.experience-item__company:hover {
				opacity: 0.6;
			}
			/* Recent Posts Section */
			.recent-posts-section {
				width: 100%;
				box-sizing: border-box;
				overflow: hidden;
			}
			.recent-posts-section__header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 32px;
				gap: 16px;
				flex-wrap: nowrap;
				width: 100%;
				box-sizing: border-box;
			}
			.recent-posts-section__title {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--color-text);
				margin: 0;
				letter-spacing: -0.5px;
				word-break: keep-all;
				overflow-wrap: break-word;
				flex: 1;
				min-width: 0;
			}
			.recent-posts-section__view-all {
				font-size: 0.9rem;
				color: var(--color-sub);
				text-decoration: none;
				transition: all 0.2s ease;
				font-weight: 400;
				white-space: nowrap;
				flex-shrink: 0;
			}
			.recent-posts-section__view-all:hover {
				color: var(--color-text);
				text-decoration: underline;
				text-underline-offset: 2px;
			}
			.recent-posts-section__list {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.recent-post-item {
				margin-bottom: 32px;
				padding-bottom: 32px;
				border-bottom: 1px solid var(--color-border);
			}
			.recent-post-item:last-child {
				border-bottom: none;
				margin-bottom: 0;
				padding-bottom: 0;
			}
			.recent-post-item__link {
				text-decoration: none;
				color: inherit;
				display: block;
				transition: opacity 0.2s ease;
			}
			.recent-post-item__link:hover {
				opacity: 0.6;
			}
			.recent-post-item__date {
				display: block;
				font-size: 0.85rem;
				color: var(--color-sub);
				margin-bottom: 12px;
				font-weight: 300;
			}
			.recent-post-item__title {
				font-size: 1.1rem;
				font-weight: 400;
				color: var(--color-text);
				margin: 0;
				line-height: 1.5;
				letter-spacing: -0.2px;
				word-break: keep-all;
				overflow-wrap: break-word;
			}
			@media (max-width: 900px) {
				.main-content {
					padding: 60px 24px;
					width: 100%;
					box-sizing: border-box;
				}
				.main-content__container {
					flex-direction: column;
					gap: 60px;
				}
				.about-section {
					flex: 1 1 100%;
				}
				.recent-posts-section {
					flex: 1 1 100%;
				}
				.about-section {
					position: static;
				}
				.about-section__name {
					font-size: 2rem;
				}
				.experience-section__title {
					font-size: 1.3rem;
				}
				.recent-posts-section__header {
					margin-bottom: 24px;
					flex-wrap: nowrap;
				}
				.recent-posts-section__title {
					font-size: 1.3rem;
					flex: 1;
					min-width: 0;
				}
				.recent-posts-section__view-all {
					font-size: 0.85rem;
					white-space: nowrap;
					flex-shrink: 0;
				}
			}
			@media (max-width: 600px) {
				.main-content {
					padding: 40px 16px;
					width: 100%;
					box-sizing: border-box;
				}
				.recent-posts-section__header {
					flex-wrap: nowrap;
					gap: 12px;
				}
				.recent-posts-section__title {
					font-size: 1.2rem;
					flex: 1;
					min-width: 0;
				}
				.recent-posts-section__view-all {
					font-size: 0.8rem;
					white-space: nowrap;
					flex-shrink: 0;
				}
				.main-content__container {
					flex-direction: column;
					gap: 40px;
				}
				.about-section {
					flex: 1 1 100%;
				}
				.recent-posts-section {
					flex: 1 1 100%;
				}
				.about-section__name {
					font-size: 1.8rem;
				}
				.about-section__role {
					font-size: 1rem;
				}
				.about-section__description {
					font-size: 0.9rem;
					margin-bottom: 40px;
				}
				.experience-section__title {
					font-size: 1.2rem;
					margin-bottom: 20px;
				}
				.experience-item {
					margin-bottom: 20px;
				}
				.recent-posts-section__header {
					margin-bottom: 20px;
				}
				.recent-posts-section__title {
					font-size: 1.2rem;
				}
				.recent-posts-section__view-all {
					font-size: 0.8rem;
				}
				.recent-post-item {
					margin-bottom: 24px;
					padding-bottom: 24px;
				}
				.recent-post-item__title {
					font-size: 1rem;
				}
			}
		</style>
	</body>
</html>
